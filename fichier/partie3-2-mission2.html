<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Partie 3.2 - Configuration Zabbix | Kaëlig CHRISTOUX</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" href="favicon.png" type="image/png">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet"/>
    <style>
        :root {
            --primary-blue: #0ea5e9;
            --deep-blue: #0284c7;
            --accent-cyan: #06b6d4;
            --dark-cyan: #0891b2;
            --sncf-red: #ed1c24;
            --tech-green: #10b981;
            --warning-orange: #f97316;
            --warning-yellow: #fbbf24;
            --bg-dark: #0f172a;
            --bg-card: #1e293b;
            --bg-lighter: #334155;
            --text-light: #f1f5f9;
            --text-gray: #cbd5e1;
            --rail-gray: #64748b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Outfit', sans-serif;
            background: var(--bg-dark);
            color: var(--text-light);
            line-height: 1.8;
            overflow-x: hidden;
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 25% 40%, rgba(14, 165, 233, 0.15) 0%, transparent 50%),
                radial-gradient(circle at 75% 60%, rgba(6, 182, 212, 0.12) 0%, transparent 50%),
                radial-gradient(circle at 50% 80%, rgba(2, 132, 199, 0.08) 0%, transparent 60%);
            z-index: -1;
            animation: bluePulse 12s ease-in-out infinite;
        }

        @keyframes bluePulse {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }

        /* Navigation - Same as previous files */
        nav {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(12px);
            padding: 1.5rem 0;
            z-index: 1000;
            border-bottom: 2px solid rgba(14, 165, 233, 0.3);
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        }

        nav .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav .logo {
            font-family: 'JetBrains Mono', monospace;
            font-size: 1.6rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
            transition: transform 0.3s;
        }

        nav .logo:hover { transform: scale(1.05); }

        nav ul {
            list-style: none;
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        nav a {
            color: var(--text-gray);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .icon-gray { color: var(--rail-gray) !important; }
        nav a:hover { color: var(--primary-blue); }
        nav a:hover .icon-gray { color: var(--primary-blue) !important; }

        .submenu {
            display: none;
            position: absolute;
            top: 100%;
            left: 0;
            background: rgba(15, 23, 42, 0.98);
            backdrop-filter: blur(10px);
            min-width: 200px;
            padding: 0.5rem 0;
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(14, 165, 233, 0.3);
            border: 1px solid rgba(14, 165, 233, 0.3);
            z-index: 1000;
            list-style: none;
        }

        nav ul li.has-submenu:hover .submenu {
            display: block;
            animation: fadeInSubmenu 0.3s ease;
        }

        .submenu li a {
            display: block;
            padding: 0.8rem 1.5rem;
        }

        .submenu li a:hover {
            background: rgba(14, 165, 233, 0.15);
            color: var(--primary-blue);
            padding-left: 2rem;
        }

        @keyframes fadeInSubmenu {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .menu-toggle {
            display: none;
            flex-direction: column;
            gap: 5px;
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            z-index: 1001;
        }

        .menu-toggle span {
            width: 28px;
            height: 3px;
            background: var(--primary-blue);
            border-radius: 3px;
            transition: all 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Page Hero */
        .page-hero {
            padding: 140px 0 60px;
            text-align: center;
        }

        .back-nav {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.7rem 1.5rem;
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.3);
            border-radius: 30px;
            color: var(--accent-cyan);
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 2rem;
            transition: all 0.3s;
        }

        .back-nav:hover {
            background: rgba(14, 165, 233, 0.2);
            border-color: var(--primary-blue);
            transform: translateX(-5px);
        }

        .part-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.6rem;
            padding: 0.6rem 1.5rem;
            background: linear-gradient(135deg, rgba(14, 165, 233, 0.25), rgba(6, 182, 212, 0.15));
            border: 2px solid var(--primary-blue);
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
            color: var(--accent-cyan);
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .page-hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--accent-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .page-hero .subtitle {
            font-size: 1.2rem;
            color: var(--text-gray);
            max-width: 800px;
            margin: 0 auto;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.7rem;
            margin-top: 1.5rem;
            color: var(--text-gray);
            font-size: 0.95rem;
        }

        .breadcrumb a {
            color: var(--primary-blue);
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb a:hover { color: var(--accent-cyan); }

        /* Content Section */
        .content-section {
            padding: 3rem 0 5rem;
        }

        /* Section Card */
        .section-card {
            background: linear-gradient(135deg, rgba(30, 41, 59, 0.6), rgba(51, 65, 85, 0.4));
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 3rem;
            border: 2px solid rgba(14, 165, 233, 0.2);
            position: relative;
            overflow: hidden;
        }

        .section-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary-blue), var(--accent-cyan));
        }

        .section-card h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-light);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-card h2 i {
            color: var(--primary-blue);
            font-size: 1.8rem;
        }

        .section-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin: 2rem 0 1rem;
            color: var(--accent-cyan);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .section-card p {
            font-size: 1.05rem;
            color: var(--text-gray);
            line-height: 1.9;
            margin-bottom: 1.5rem;
        }

        .section-card strong {
            color: var(--text-light);
            font-weight: 600;
        }

        .section-card ul {
            margin-left: 2rem;
            margin-top: 1rem;
            color: var(--text-gray);
        }

        .section-card ul li {
            margin-bottom: 0.7rem;
            line-height: 1.8;
        }

        /* Image Container */
        .image-container {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem 0;
            border: 1px solid rgba(14, 165, 233, 0.2);
            text-align: center;
        }

        .image-container img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 8px 30px rgba(14, 165, 233, 0.3);
            transition: transform 0.3s;
        }

        .image-container img:hover { transform: scale(1.02); }

        .image-caption {
            margin-top: 1rem;
            font-size: 0.95rem;
            color: var(--text-gray);
            font-style: italic;
        }

        /* Info Box */
        .info-box {
            background: rgba(14, 165, 233, 0.1);
            border-left: 4px solid var(--primary-blue);
            padding: 1.5rem;
            border-radius: 10px;
            margin: 1.5rem 0;
        }

        .info-box p {
            margin-bottom: 0.5rem;
        }

        .info-box p:last-child {
            margin-bottom: 0;
        }

        .info-box strong {
            color: var(--primary-blue);
        }

        /* WARNING BOX - Orange/Yellow for problems */
        .warning-box {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.15), rgba(249, 115, 22, 0.1));
            border-left: 4px solid var(--warning-orange);
            padding: 1.8rem;
            border-radius: 10px;
            margin: 2rem 0;
            box-shadow: 0 4px 20px rgba(249, 115, 22, 0.2);
        }

        .warning-box h4 {
            color: var(--warning-orange);
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .warning-box h4 i {
            font-size: 1.5rem;
        }

        .warning-box p {
            color: var(--text-gray);
            margin-bottom: 0.8rem;
        }

        .warning-box strong {
            color: var(--warning-yellow);
        }

        /* SUMMARY BOX - Red clean and professional */
        .summary-box {
            background: linear-gradient(135deg, rgba(239, 68, 68, 0.15), rgba(220, 38, 38, 0.1));
            border: 2px solid #ef4444;
            border-radius: 20px;
            padding: 2.5rem;
            margin: 3rem 0;
            box-shadow: 0 8px 30px rgba(239, 68, 68, 0.25);
        }

        .summary-box h2 {
            color: #ef4444;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            justify-content: center;
            text-align: center;
        }

        .summary-box h2 i {
            font-size: 2rem;
        }

        .summary-box p {
            font-size: 1.1rem;
            color: var(--text-gray);
            line-height: 2;
            margin-bottom: 1rem;
            text-align: justify;
        }

        .summary-box strong {
            color: var(--text-light);
            font-weight: 600;
        }

        /* Split Layout */
        .split-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin: 2rem 0;
        }

        .split-item {
            background: rgba(15, 23, 42, 0.6);
            border-radius: 15px;
            padding: 1.5rem;
            border: 1px solid rgba(14, 165, 233, 0.2);
        }

        .split-item img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            margin-bottom: 1rem;
            box-shadow: 0 4px 15px rgba(14, 165, 233, 0.25);
        }

        /* Navigation Buttons */
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            gap: 2rem;
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid rgba(14, 165, 233, 0.2);
        }

        .nav-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.8rem;
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--primary-blue), var(--deep-blue));
            color: white;
            text-decoration: none;
            border-radius: 12px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 6px 20px rgba(14, 165, 233, 0.3);
        }

        .nav-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(14, 165, 233, 0.5);
        }

        .nav-btn.secondary {
            background: rgba(14, 165, 233, 0.15);
            border: 2px solid var(--primary-blue);
            color: var(--accent-cyan);
        }

        .nav-btn.secondary:hover {
            background: rgba(14, 165, 233, 0.25);
        }

        /* Footer */
        footer {
            background: rgba(15, 23, 42, 0.9);
            border-top: 2px solid rgba(14, 165, 233, 0.3);
            padding: 2.5rem 0;
            text-align: center;
            margin-top: 5rem;
        }

        .copyright {
            color: var(--text-gray);
            font-size: 1rem;
        }

        .copyright a {
            color: var(--primary-blue);
            text-decoration: none;
            transition: color 0.3s;
        }

        .copyright a:hover { color: var(--accent-cyan); }

        /* Responsive */
        @media (max-width: 968px) {
            nav ul {
                position: fixed;
                top: 0;
                right: -100%;
                width: 280px;
                height: 100vh;
                background: rgba(15, 23, 42, 0.98);
                backdrop-filter: blur(10px);
                flex-direction: column;
                justify-content: flex-start;
                padding: 6rem 2rem 2rem;
                gap: 1.5rem;
                transition: right 0.4s ease;
                border-left: 2px solid rgba(14, 165, 233, 0.3);
                z-index: 999;
            }

            nav ul.active { right: 0; }

            .submenu {
                position: static;
                display: none;
                width: 100%;
                margin-top: 0.5rem;
                background: rgba(30, 41, 59, 0.8);
            }

            .has-submenu.open .submenu {
                display: block;
            }

            .menu-toggle {
                display: flex;
            }

            .page-hero h1 {
                font-size: 2rem;
            }

            .section-card {
                padding: 1.5rem;
            }

            .split-layout {
                grid-template-columns: 1fr;
            }

            .nav-buttons {
                flex-direction: column;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="container">
            <a href="index.html" class="logo">&lt;KC/&gt;</a>
            
            <button class="menu-toggle" aria-label="Menu" onclick="toggleMenu()">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <ul id="navMenu">
                <li><a href="index.html"><i class="fas fa-home icon-gray"></i> Page d'accueil</a></li>
                
                <li class="has-submenu">
                    <a href="#" onclick="return false;"><i class="fas fa-briefcase icon-gray"></i> Stages <i class="fas fa-chevron-down icon-gray"></i></a>
                    <ul class="submenu">
                        <li><a href="stage1.html"><i class="fas fa-building icon-gray"></i> Stage 1</a></li>
                        <li><a href="stage2.html"><i class="fas fa-train icon-gray"></i> Stage 2</a></li>
                    </ul>
                </li>
                
                <li class="has-submenu">
                    <a href="#" onclick="return false;"><i class="fas fa-folder-open icon-gray"></i> Autres <i class="fas fa-chevron-down icon-gray"></i></a>
                    <ul class="submenu">
                        <li><a href="veille.html"><i class="fas fa-binoculars icon-gray"></i> Veilles</a></li>
                        <li><a href="ap.html"><i class="fas fa-tools icon-gray"></i> Ateliers Pro</a></li>
                    </ul>
                </li>
                
                <li><a href="cv.html"><i class="fas fa-file-alt icon-gray"></i> CV</a></li>
            </ul>
        </div>
    </nav>

    <!-- Page Hero -->
    <section class="page-hero">
        <div class="container">
            <a href="mission2-sncf.html" class="back-nav">
                <i class="fas fa-arrow-left"></i>
                Retour à la mission 2
            </a>
            
            <div class="part-badge">
                <i class="fas fa-cog"></i>
                <span>Partie 3.2</span>
            </div>
            
            <h1><i class="fas fa-chart-line"></i> Installation & Configuration Zabbix</h1>
            <p class="subtitle">
                Installation complète des paquets Zabbix, configuration de la base de données MySQL, et mise en place de l'interface web de supervision
            </p>

            <div class="breadcrumb">
                <a href="index.html">Accueil</a>
                <span>›</span>
                <a href="stage2.html">Stage 2</a>
                <span>›</span>
                <a href="missions-sncf.html">Missions</a>
                <span>›</span>
                <a href="mission2-sncf.html">Mission 2</a>
                <span>›</span>
                <span>Partie 3.2</span>
            </div>
        </div>
    </section>

    <!-- Content Section -->
    <section class="content-section">
        <div class="container">
            <!-- Section 1: Configuration système préliminaire -->
            <div class="section-card">
                <h2>
                    <i class="fas fa-clock"></i>
                    Configuration système préliminaire
                </h2>

                <p>
                    Avant l'installation de Zabbix, configuration des éléments système essentiels : synchronisation de l'heure avec le serveur NTP de la SNCF via <strong>timesyncd.conf</strong> (<code>NTP=ntp.sncf.fr</code>), mise à jour du fichier <strong>sources.list</strong> pour pointer vers le miroir debian-security, et installation d'<strong>Aptitude</strong> pour la gestion avancée des paquets.
                </p>

                <div class="image-container">
                    <img src="1770303151217_image.png" alt="Configuration système">
                    <p class="image-caption">Configuration NTP, sources.list et installation d'Aptitude</p>
                </div>
            </div>

            <!-- Section 2: Installation des paquets Zabbix -->
            <div class="section-card">
                <h2>
                    <i class="fas fa-box"></i>
                    Installation des paquets Zabbix
                </h2>

                <p>
                    Installation des paquets Zabbix dont j'ai besoin pour réaliser toute l'installation et la configuration de Zabbix. Les paquets choisis sont les suivants : <strong>zabbix-agent, zabbix-agent2, zabbix-frontend-php, zabbix-sender, zabbix-server-mysql</strong> et <strong>zabbix-web-service</strong>.
                </p>

                <div class="image-container">
                    <img src="1770303195037_image.png" alt="Installation paquets Zabbix">
                    <p class="image-caption">Installation des 6 paquets Zabbix principaux</p>
                </div>

                <p>
                    Les paquets sélectionnés vont donc s'installer avec toutes leurs dépendances. Les dépendances sont des paquets supplémentaires nécessaires au bon fonctionnement du paquet principal.
                </p>

                <div class="image-container">
                    <img src="1770303195037_image.png" alt="Installation dépendances">
                    <p class="image-caption">Installation des dépendances des paquets Zabbix</p>
                </div>
            </div>

            <!-- Section 3: Configuration base de données MySQL -->
            <div class="section-card">
                <h2>
                    <i class="fas fa-database"></i>
                    Configuration de la base de données MySQL
                </h2>

                <p>
                    Consultation du fichier <strong>README.Debian</strong> dans <code>/usr/share/doc/zabbix</code> pour obtenir les instructions d'installation de la base de données. Installation automatique de <strong>mysql-server</strong> via le paquet zabbix-server-mysql, puis exécution des commandes SQL pour créer la base de données Zabbix avec l'encodage utf8mb4 et configurer les droits d'accès pour l'utilisateur zabbix. Import du schéma de base de données via la commande <code>zcat</code> et édition du fichier <strong>zabbix_server.conf</strong> avec les paramètres de connexion (DBHost, DBName, DBUser, DBPassword).
                </p>

                <div class="split-layout">
                    <div class="split-item">
                        <img src="1770303195037_image.png" alt="README Debian Zabbix">
                        <p class="image-caption">Instructions du README.Debian</p>
                    </div>
                    <div class="split-item">
                        <img src="1770303195037_image.png" alt="Création base de données">
                        <p class="image-caption">Création BDD et config MySQL</p>
                    </div>
                </div>

                <div class="image-container">
                    <img src="1770303229045_image.png" alt="Configuration zabbix_server.conf">
                    <p class="image-caption">Édition du fichier zabbix_server.conf avec les paramètres de connexion</p>
                </div>
            </div>

            <!-- Section 4: Configuration Zabbix Server -->
            <div class="section-card">
                <h2>
                    <i class="fas fa-wrench"></i>
                    Configuration du serveur Zabbix
                </h2>

                <p>
                    Modification du fichier <strong>zabbix_server.conf</strong> : décommentage et renseignement des paramètres DBHost (<code>localhost</code>), DBName (<code>zabbix</code>), DBUser (<code>zabbix</code>) et DBPassword. Activation des scripts globaux en passant <strong>EnableGlobalScripts</strong> de 0 à 1.
                </p>

                <div class="image-container">
                    <img src="1770303229045_image.png" alt="Configuration zabbix_server.conf">
                    <p class="image-caption">Configuration des paramètres de connexion et activation des scripts globaux</p>
                </div>
            </div>

            <!-- Section 5: Configuration PHP et Apache -->
            <div class="section-card">
                <h2>
                    <i class="fab fa-php"></i>
                    Configuration PHP et Apache2
                </h2>

                <p>
                    Suivant les instructions du <strong>README.Debian</strong> du répertoire <code>/usr/share/doc/zabbix-frontend-php</code>, copie du contenu du fichier <strong>zabbix-frontend-php.conf</strong> dans <strong>000-default.conf</strong>. Modification du fichier <strong>php.ini</strong> (<code>/etc/php/8.4/apache2</code>) après backup : ajustement des valeurs <code>max_execution_time</code>, <code>max_input_time</code>, <code>memory_limit</code> et <code>post_max_size</code> selon les paramètres requis par Zabbix. Redémarrage et vérification du service Apache2.
                </p>

                <div class="split-layout">
                    <div class="split-item">
                        <img src="1770303250523_image.png" alt="Configuration fichiers">
                        <p class="image-caption">Copie de zabbix-frontend-php.conf</p>
                    </div>
                    <div class="split-item">
                        <img src="1770303250523_image.png" alt="Redémarrage Apache2">
                        <p class="image-caption">Redémarrage du service Apache2</p>
                    </div>
                </div>
            </div>

            <!-- Section 6: Configuration interface web -->
            <div class="section-card">
                <h2>
                    <i class="fas fa-globe"></i>
                    Configuration de l'interface web Zabbix
                </h2>

                <h3><i class="fas fa-play"></i> Accès à l'interface web</h3>

                <p>
                    Je me rends ensuite sur l'interface web de Zabbix avec l'IP que je lui ai attribué.
                </p>

                <p>
                    Je sélectionne comme langage par défaut le français et je clique sur «Prochaine étape».
                </p>

                <div class="image-container">
                    <img src="1770303266666_image.png" alt="Interface Zabbix langue">
                    <p class="image-caption">Sélection de la langue française dans l'interface web Zabbix</p>
                </div>

                <h3><i class="fas fa-check-circle"></i> Vérification des prérequis</h3>

                <p>
                    Je vérifie ensuite que tous les prérequis sont bien = OK », si c'est le cas, je passe à la prochaine étape.
                </p>

                <div class="image-container">
                    <img src="1770303266666_image.png" alt="Vérification prérequis">
                    <p class="image-caption">Vérification des prérequis système - tous les critères sont OK</p>
                </div>

                <h3><i class="fas fa-exclamation-triangle"></i> Problème de configuration de la base de données</h3>

                <div class="warning-box">
                    <h4><i class="fas fa-exclamation-triangle"></i> Problème rencontré</h4>
                    <p>
                        Je configure ensuite la connexion à la base de donnée. Je dois sélectionner <strong>MySQL</strong> dans le type de base de donnée, sauf que comme présenté sur ce screen, <strong>il n'est pas affiché, il n'y a que PostgreSQL</strong>. Je dois donc trouver un moyen de résoudre ce souci.
                    </p>
                </div>

                <div class="image-container">
                    <img src="1770303266666_image.png" alt="Problème PostgreSQL">
                    <p class="image-caption">⚠️ Problème : Seul PostgreSQL est disponible, MySQL n'apparaît pas</p>
                </div>

                <h3><i class="fas fa-search"></i> Résolution du problème</h3>

                <p>
                    J'ai donc en premier lieu, regardé dans le fichier de configuration qui gère les identifiants de la base de données, je me disais que j'avais peut-être oublié de décommenter un paramètre qui permettrait de détecter MySQL en type de base de données, mais je n'avais rien oublié.
                </p>

                <div class="image-container">
                    <img src="1770303266666_image.png" alt="Vérification configuration">
                    <p class="image-caption">Vérification du fichier de configuration - paramètres corrects</p>
                </div>

                <p>
                    J'ai par la suite regardé dans tous les fichiers de configuration et les README.Debian dont j'avais pu avoir accès jusqu'à présent, et je me suis rendu qu'il y a un paramètre que j'avais oublié de lire lors de la première lecture du README.Debian du répertoire <code>/usr/share/doc/zabbix-frontend-php</code>. Il y a une catégorie «Configuring the Zabbix frontend», et dans cette catégorie, si on lit bien le deuxième paragraphe, il est indiqué que si nous voulons utiliser PostgreSQL comme base de données, il faut vérifier que le paquet correspondant est bien installé, sauf qu'à l'inverse du paragraphe, il est indiqué que si j'ai besoin du MySQL comme base de données, alors j'aurais besoin d'installer le paquet <strong>php-mysql</strong>, je pensais qu'il se serait installé automatiquement lorsque j'ai installé les 5 paquets de Zabbix, mais apparemment non.
                </p>

                <div class="image-container">
                    <img src="1770303293518_image.png" alt="README php-mysql">
                    <p class="image-caption">Découverte de la solution dans le README : installation du paquet php-mysql nécessaire</p>
                </div>

                <h3><i class="fas fa-check"></i> Installation de php-mysql et résolution</h3>

                <p>
                    Je me suis donc rendu dans Aptitude et j'ai recherché le paquet «php-mysql», je l'ai installé, puis je suis revenu sur l'interface web de Zabbix en rechargeant la page, cette-fois-ci, <strong>MySQL était bien détecté comme type de base de données</strong>.
                </p>

                <div class="image-container">
                    <img src="1770303293518_image.png" alt="MySQL détecté">
                    <p class="image-caption">✅ Problème résolu : MySQL est maintenant détecté correctement</p>
                </div>

                <h3><i class="fas fa-database"></i> Configuration de la base de données</h3>

                <p>
                    Il faut également renseigner l'hôte de la base de données, le nom de la base de données, l'utilisateur et son mot de passe. Toutes ces informations correspondent aux informations de la base de données, renseignées dans le fichier <code>zabbix_server.conf</code> (<code>/etc/zabbix</code>).
                </p>

                <div class="image-container">
                    <img src="1770303293518_image.png" alt="Configuration BDD">
                    <p class="image-caption">Renseignement des paramètres de connexion à la base de données MySQL</p>
                </div>

                <h3><i class="fas fa-server"></i> Paramètres du serveur Zabbix</h3>

                <p>
                    Pour finir, il faut renseigner le nom du serveur Zabbix, qui sera le même que le nom de la machine virtuelle, ainsi que le fuseau horaire correspondant à ma localisation.
                </p>

                <div class="image-container">
                    <img src="1770303293518_image.png" alt="Paramètres serveur">
                    <p class="image-caption">Configuration du nom du serveur et du fuseau horaire</p>
                </div>

                <p>
                    Je vérifie que toutes les informations j'ai renseignées sont correctes : le type de base de données, le serveur, le port, le nom, l'utilisateur, ainsi que le nom du serveur Zabbix.
                </p>

                <div class="image-container">
                    <img src="1770303293518_image.png" alt="Résumé configuration">
                    <p class="image-caption">Récapitulatif de tous les paramètres avant validation</p>
                </div>
            </div>

            <!-- Section 7: Installation manuelle -->
            <div class="section-card">
                <h2>
                    <i class="fas fa-wrench"></i>
                    Installation manuelle du fichier de configuration
                </h2>

                <p>
                    Zabbix indique qu'il est impossible de créer automatiquement le fichier de configuration. Solution : téléchargement du fichier <strong>zabbix.conf.php</strong>, copie de son contenu, puis création manuelle via <code>nano zabbix.conf.php</code> dans le répertoire <code>/etc/zabbix</code>.
                </p>

                <div class="split-layout">
                    <div class="split-item">
                        <img src="1770303328894_image.png" alt="Erreur création fichier">
                        <p class="image-caption">Message d'erreur : installation manuelle requise</p>
                    </div>
                    <div class="split-item">
                        <img src="1770303328894_image.png" alt="Création fichier">
                        <p class="image-caption">Création manuelle du fichier avec nano</p>
                    </div>
                </div>

                <div class="info-box">
                    <p>
                        <strong><i class="fas fa-check-circle"></i> Installation réussie !</strong><br>
                        Après actualisation de la page, Zabbix confirme l'installation avec succès : le fichier <code>/etc/zabbix/zabbix.conf.php</code> a bien été créé.
                    </p>
                </div>

                <div class="image-container">
                    <img src="1770303353069_image.png" alt="Interface Zabbix opérationnelle">
                    <p class="image-caption">Interface web de Zabbix opérationnelle et prête à l'emploi</p>
                </div>
            </div>

            <!-- SUMMARY BOX - RED CLEAN -->
            <div class="summary-box">
                <h2><i class="fas fa-clipboard-check"></i> Résumé de la mission</h2>
                
                <p>
                    J'ai donc déployé l'outil qui m'était demandé. J'ai rencontré des difficultés que j'ai pu résoudre avec du temps et de la recherche, notamment pour l'erreur sur la base de données. Ce projet m'a beaucoup aidé à faire des recherches en autonomie dans des fichiers de configuration, sans aide de documentations ou sans demander la solution à mon tuteur. Je garde donc un très positif de cette mise en place de Zabbix. Il y a un seul point négatif que je retiens, il me concerne, c'est que je ne pense pas toujours à faire de sauvegardes avant de modifier un fichier de configuration, j'y ai pensé pour le php.ini, mais tous les autres fichiers de configuration, je les ai modifiés sans faire de sauvegarde avant, et donc, qui dit pas de sauvegarde, dit que si je fais une erreur dans ma saisie sur le fichier et que je sauvegarde comme il est, je n'ai pas moyen de revenir en arrière sur ce que j'ai tapé, et cela peut donc engendrer des oublis sur le contenu original du fichier à l'origine.
                </p>
                
                <p>
                    Ma perspective d'évolution concernant ce type de projets est donc de faire, dès que je le peux, des sauvegardes de fichiers, mais c'est pareil pour les machines virtuelles, il faut les sauvegarder régulièrement en cas de manipulation qui les feraient dysfonctionner.
                </p>
            </div>

            <!-- PDF Download Section -->
            <div class="section-card" style="background: linear-gradient(135deg, rgba(14, 165, 233, 0.15), rgba(6, 182, 212, 0.1)); border-color: var(--primary-blue); text-align: center;">
                <h2 style="justify-content: center;">
                    <i class="fas fa-file-pdf"></i>
                    Télécharger le document complet
                </h2>
                <p>
                    Vous pouvez télécharger l'intégralité de cette partie au format PDF pour consultation hors ligne ou impression.
                </p>
                <a href="config-zabbix.pdf" download class="nav-btn" style="display: inline-flex; margin-top: 1rem;">
                    <i class="fas fa-download"></i>
                    <span>Télécharger le PDF</span>
                </a>
            </div>

            <!-- Navigation Buttons -->
            <div class="nav-buttons">
                <a href="partie3-1-mission2.html" class="nav-btn secondary">
                    <i class="fas fa-arrow-left"></i>
                    <span>Partie 3.1 : VM & Debian</span>
                </a>
                <a href="mission2-sncf.html" class="nav-btn">
                    <span>Retour à la mission</span>
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="copyright">
                <p>&copy; 2026 <a href="index.html">Kaëlig CHRISTOUX</a>. Tous droits réservés.</p>
            </div>
        </div>
    </footer>

    <script>
        // Menu hamburger toggle
        function toggleMenu() {
            const menuToggle = document.querySelector('.menu-toggle');
            const navMenu = document.getElementById('navMenu');
            menuToggle.classList.toggle('active');
            navMenu.classList.toggle('active');
        }

        // Toggle sous-menus sur mobile
        const subMenuItems = document.querySelectorAll('.has-submenu');
        subMenuItems.forEach(item => {
            const link = item.querySelector('a');
            
            link.addEventListener('click', (e) => {
                if (window.innerWidth <= 968) {
                    e.preventDefault();
                    item.classList.toggle('open');
                }
            });
        });

        // Fermer le menu si on clique en dehors
        document.addEventListener('click', (e) => {
            if (!e.target.closest('nav')) {
                document.querySelector('.menu-toggle')?.classList.remove('active');
                document.getElementById('navMenu')?.classList.remove('active');
                subMenuItems.forEach(item => item.classList.remove('open'));
            }
        });

        // Image zoom on click
        document.querySelectorAll('.image-container img, .split-item img').forEach(img => {
            img.style.cursor = 'pointer';
            img.addEventListener('click', function() {
                window.open(this.src, '_blank');
            });
        });
    </script>
</body>
</html>
